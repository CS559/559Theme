<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
{{/* gleicher - add a base href for 404 pages 
{{ if eq .Kind "404" }}
<base href="{{ .Site.Params.errorBase | default "./" }}">
{{ end }} */}}
<title>{{ block "title" . }}{{ if not .IsHome }}{{ .Title }} - {{ end }}{{ .Site.Title }}{{ end }}</title>

{{/* this script let's us know that JavaScript is working - it changes the document class from no-js to js if (and only if) js is working */}}
<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>

<meta name="description" content="{{ if .IsHome }}{{ .Site.Params.description }}{{ else }}{{ .Params.Description }}{{ end }}">
{{- if .Site.Params.opengraph }}
    {{ template "_internal/opengraph.html" . }}
{{- end }}
{{- if .Site.Params.schema }}
    {{ template "_internal/schema.html" . }}
{{- end }}
{{- if .Site.Params.twitter_cards }}
    {{ template "_internal/twitter_cards.html" . }}
{{- end }}

{{/* Fonts Section  - modern mainroad has conditionals and variables - we assume we want several google fonts 

I keep the conditional so the code looks like the modern mainroad code.
*/}}
{{- $googleFontsLink := .Site.Params.googleFontsLink | default "https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700" }}
{{- if hasPrefix $googleFontsLink "https://fonts.googleapis.com/" }}
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="dns-prefetch" href="//fonts.googleapis.com">
<link rel="dns-prefetch" href="//fonts.gstatic.com">
<link rel="stylesheet" {{ printf `href="%s"` $googleFontsLink | safeHTMLAttr }}>
{{- end }}
{{/* gleicher - add some more fonts manually*/}}
<link href="https://fonts.googleapis.com/css2?family=Bellota+Text:ital,wght@0,300;0,700;1,300&family=Libre+Baskerville&family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Lora&display=swap" rel="stylesheet">

{{- partial "head/stylesheet.html" . -}}

{{/* gleicher - RSS goes after CSS in roadster */}}
{{- with .OutputFormats.Get "rss" }}
{{ printf `<link rel="%s" type="%s" href="%s" title="%s">` .Rel .MediaType.Type .RelPermalink $.Site.Title | safeHTML }}
{{- end }}

<link rel="shortcut icon" href="{{ "favicon.ico" | relURL }}">
{{/* gleicher - leave out the google analytics code */}}

{{/* a new redirect feature */}}
{{- if isset .Page.Params "redirect" -}}
<meta http-equiv="refresh" content="6; URL={{- .Page.Params.redirect -}}" />
{{- end -}}
